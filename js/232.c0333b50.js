"use strict";(self["webpackChunkvue_test"]=self["webpackChunkvue_test"]||[]).push([[232],{3232:function(e,r,t){t.r(r),t.d(r,{default:function(){return c}});var s=function(){var e=this,r=e._self._c;return r("div",{staticClass:"login"},[r("el-card",{staticClass:"box-card"},[r("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[r("span",[e._v("商城")])]),r("el-tabs",{attrs:{stretch:""},on:{"tab-click":e.handleTabsClick},model:{value:e.currentIndex,callback:function(r){e.currentIndex=r},expression:"currentIndex"}},[r("el-tab-pane",{attrs:{label:"登录",name:"login"}},[r("el-form",{ref:"loginForm",staticClass:"demo-ruleForm",attrs:{model:e.loginForm,"status-icon":"",rules:e.rules,"label-width":"100px"}},[r("el-form-item",{attrs:{label:"用户名",prop:"username"}},[r("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.loginForm.username,callback:function(r){e.$set(e.loginForm,"username",r)},expression:"loginForm.username"}})],1),r("el-form-item",{attrs:{label:"密码",prop:"password"}},[r("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:e.loginForm.password,callback:function(r){e.$set(e.loginForm,"password",r)},expression:"loginForm.password"}})],1),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:function(r){return e.submitForm("loginForm")}}},[e._v("提交")])],1)],1)],1),r("el-tab-pane",{attrs:{label:"注册",name:"register"}},[r("el-form",{ref:"registerForm",staticClass:"demo-ruleForm",attrs:{model:e.registerForm,"status-icon":"",rules:e.rules,"label-width":"100px"}},[r("el-form-item",{attrs:{label:"用户名",prop:"username"}},[r("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.registerForm.username,callback:function(r){e.$set(e.registerForm,"username",r)},expression:"registerForm.username"}})],1),r("el-form-item",{attrs:{label:"邮箱",prop:"username"}},[r("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.registerForm.email,callback:function(r){e.$set(e.registerForm,"email",r)},expression:"registerForm.email"}})],1),r("el-form-item",{attrs:{label:"密码",prop:"password"}},[r("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:e.registerForm.password,callback:function(r){e.$set(e.registerForm,"password",r)},expression:"registerForm.password"}})],1),r("el-form-item",{attrs:{label:"确认密码",prop:"configurePassword"}},[r("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:e.registerForm.configurePassword,callback:function(r){e.$set(e.registerForm,"configurePassword",r)},expression:"registerForm.configurePassword"}})],1),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:function(r){return e.resubmitForm("registerForm")}}},[e._v("提交")])],1)],1)],1)],1)],1)],1)},o=[],a=(t(1703),t(3650)),l=t(3822),i={data(){var e=(e,r,t)=>{r?t():t(new Error("请输入用户名"))},r=(e,r,t)=>{r?t():t(new Error("请输入密码"))},t=(e,r,t)=>{r?r!==this.registerForm.password?t(new Error("两次输入密码不一样!")):t():t(new Error("请输入密码"))};return{currentIndex:"login",loginForm:{username:"",password:""},registerForm:{username:"",password:"",configurePassword:"",email:""},activeTabs:"login",rules:{username:[{validator:e,trigger:"blur"}],password:[{validator:r,trigger:"blur"}],configurePassword:[{validator:t,trigger:"blur"}]}}},methods:{...(0,l.OI)("login",["setUser"]),submitForm(e){this.$refs[e].validate((e=>{e?"login"===this.activeTabs&&a.Z.login(this.loginForm).then((e=>{if(200===e.data.status)this.setUser(e.data),localStorage.setItem("ego",JSON.stringify(e.data)),this.$router.push("/");else{const e=this.$createElement;this.$notify({title:"登录失败",message:e("用户名密码错误！")})}})):console.log("error submit!!")}))},resubmitForm(e){this.$refs[e].validate((e=>{if(!e)return console.log("error submit!!"),!1;a.Z.register(this.registerForm).then((e=>{if(200===e.data.status){const e=this.$createElement;this.$notify({title:"注册成功",message:e("请前往登录")})}else{const e=this.$createElement;this.$notify({title:"注册失败",message:e("请重新注册")})}}))}))},handleTabsClick(e){this.activeTabs=e.name,console.log(this.activeTabs)}}},n=i,m=t(1001),u=(0,m.Z)(n,s,o,!1,null,"165209b2",null),c=u.exports}}]);
//# sourceMappingURL=232.c0333b50.js.map