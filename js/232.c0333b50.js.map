{"version":3,"file":"js/232.c0333b50.js","mappings":"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","sources":["webpack://vue_test/./src/views/Login.vue","webpack://vue_test/src/views/Login.vue","webpack://vue_test/./src/views/Login.vue?7d1c","webpack://vue_test/./src/views/Login.vue?a6ee"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"login\"},[_c('el-card',{staticClass:\"box-card\"},[_c('div',{staticClass:\"clearfix\",attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('span',[_vm._v(\"商城\")])]),_c('el-tabs',{attrs:{\"stretch\":\"\"},on:{\"tab-click\":_vm.handleTabsClick},model:{value:(_vm.currentIndex),callback:function ($$v) {_vm.currentIndex=$$v},expression:\"currentIndex\"}},[_c('el-tab-pane',{attrs:{\"label\":\"登录\",\"name\":\"login\"}},[_c('el-form',{ref:\"loginForm\",staticClass:\"demo-ruleForm\",attrs:{\"model\":_vm.loginForm,\"status-icon\":\"\",\"rules\":_vm.rules,\"label-width\":\"100px\"}},[_c('el-form-item',{attrs:{\"label\":\"用户名\",\"prop\":\"username\"}},[_c('el-input',{attrs:{\"type\":\"text\",\"autocomplete\":\"off\"},model:{value:(_vm.loginForm.username),callback:function ($$v) {_vm.$set(_vm.loginForm, \"username\", $$v)},expression:\"loginForm.username\"}})],1),_c('el-form-item',{attrs:{\"label\":\"密码\",\"prop\":\"password\"}},[_c('el-input',{attrs:{\"type\":\"password\",\"autocomplete\":\"off\"},model:{value:(_vm.loginForm.password),callback:function ($$v) {_vm.$set(_vm.loginForm, \"password\", $$v)},expression:\"loginForm.password\"}})],1),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.submitForm('loginForm')}}},[_vm._v(\"提交\")])],1)],1)],1),_c('el-tab-pane',{attrs:{\"label\":\"注册\",\"name\":\"register\"}},[_c('el-form',{ref:\"registerForm\",staticClass:\"demo-ruleForm\",attrs:{\"model\":_vm.registerForm,\"status-icon\":\"\",\"rules\":_vm.rules,\"label-width\":\"100px\"}},[_c('el-form-item',{attrs:{\"label\":\"用户名\",\"prop\":\"username\"}},[_c('el-input',{attrs:{\"type\":\"text\",\"autocomplete\":\"off\"},model:{value:(_vm.registerForm.username),callback:function ($$v) {_vm.$set(_vm.registerForm, \"username\", $$v)},expression:\"registerForm.username\"}})],1),_c('el-form-item',{attrs:{\"label\":\"邮箱\",\"prop\":\"username\"}},[_c('el-input',{attrs:{\"type\":\"text\",\"autocomplete\":\"off\"},model:{value:(_vm.registerForm.email),callback:function ($$v) {_vm.$set(_vm.registerForm, \"email\", $$v)},expression:\"registerForm.email\"}})],1),_c('el-form-item',{attrs:{\"label\":\"密码\",\"prop\":\"password\"}},[_c('el-input',{attrs:{\"type\":\"password\",\"autocomplete\":\"off\"},model:{value:(_vm.registerForm.password),callback:function ($$v) {_vm.$set(_vm.registerForm, \"password\", $$v)},expression:\"registerForm.password\"}})],1),_c('el-form-item',{attrs:{\"label\":\"确认密码\",\"prop\":\"configurePassword\"}},[_c('el-input',{attrs:{\"type\":\"password\",\"autocomplete\":\"off\"},model:{value:(_vm.registerForm.configurePassword),callback:function ($$v) {_vm.$set(_vm.registerForm, \"configurePassword\", $$v)},expression:\"registerForm.configurePassword\"}})],1),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.resubmitForm('registerForm')}}},[_vm._v(\"提交\")])],1)],1)],1)],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"login\">\r\n    <el-card class=\"box-card\">\r\n      <div slot=\"header\" class=\"clearfix\">\r\n        <span>商城</span>\r\n      </div>\r\n      <el-tabs v-model=\"currentIndex\" stretch @tab-click=\"handleTabsClick\">\r\n        <el-tab-pane label=\"登录\" name=\"login\">\r\n          <el-form\r\n            :model=\"loginForm\"\r\n            status-icon\r\n            :rules=\"rules\"\r\n            ref=\"loginForm\"\r\n            label-width=\"100px\"\r\n            class=\"demo-ruleForm\"\r\n          >\r\n            <el-form-item label=\"用户名\" prop=\"username\">\r\n              <el-input\r\n                type=\"text\"\r\n                v-model=\"loginForm.username\"\r\n                autocomplete=\"off\"\r\n              ></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"密码\" prop=\"password\">\r\n              <el-input\r\n                type=\"password\"\r\n                v-model=\"loginForm.password\"\r\n                autocomplete=\"off\"\r\n              ></el-input>\r\n            </el-form-item>\r\n\r\n            <el-form-item>\r\n              <el-button type=\"primary\" @click=\"submitForm('loginForm')\"\r\n                >提交</el-button>\r\n            </el-form-item>\r\n          </el-form>\r\n        </el-tab-pane>\r\n        <el-tab-pane label=\"注册\" name=\"register\">\r\n          <el-form\r\n            :model=\"registerForm\"\r\n            status-icon\r\n            :rules=\"rules\"\r\n            ref=\"registerForm\"\r\n            label-width=\"100px\"\r\n            class=\"demo-ruleForm\"\r\n          >\r\n            <el-form-item label=\"用户名\" prop=\"username\">\r\n              <el-input\r\n                type=\"text\"\r\n                v-model=\"registerForm.username\"\r\n                autocomplete=\"off\"\r\n              ></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"邮箱\" prop=\"username\">\r\n              <el-input\r\n                type=\"text\"\r\n                v-model=\"registerForm.email\"\r\n                autocomplete=\"off\"\r\n              ></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"密码\" prop=\"password\">\r\n              <el-input\r\n                type=\"password\"\r\n                v-model=\"registerForm.password\"\r\n                autocomplete=\"off\"\r\n              ></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"确认密码\" prop=\"configurePassword\">\r\n              <el-input\r\n                type=\"password\"\r\n                v-model=\"registerForm.configurePassword\"\r\n                autocomplete=\"off\"\r\n              ></el-input>\r\n            </el-form-item>\r\n            <el-form-item>\r\n              <el-button type=\"primary\" @click=\"resubmitForm('registerForm')\"\r\n                >提交</el-button>\r\n            </el-form-item>\r\n          </el-form>\r\n        </el-tab-pane>\r\n      </el-tabs>\r\n    </el-card>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport api from '../api'\r\nimport {mapMutations} from 'vuex'\r\n\r\nexport default {\r\n  data() {\r\n    // 验证规则\r\n    var validateUsername = (rule, value, callback) => {\r\n      if (!value) {\r\n        callback(new Error(\"请输入用户名\"));\r\n      } else {\r\n        callback();\r\n      }\r\n    };\r\n    var validatePassword = (rule, value, callback) => {\r\n      if (!value) {\r\n        callback(new Error(\"请输入密码\"));\r\n      } else {\r\n        callback();\r\n      }\r\n    };\r\n    var validateCheckPass = (rule, value, callback) => {\r\n      if (!value) {\r\n        callback(new Error(\"请输入密码\"));\r\n      }else if(value !== this.registerForm.password){\r\n          callback(new Error('两次输入密码不一样!'))\r\n      } else {\r\n        callback();\r\n      }\r\n    };\r\n    return {\r\n      currentIndex: \"login\",\r\n      loginForm: {\r\n        username: \"\",\r\n        password: \"\",\r\n      },\r\n      registerForm: {\r\n        username:'',\r\n        password:'',\r\n        configurePassword:'',\r\n        email:''\r\n      },\r\n      activeTabs:'login',\r\n      rules: {\r\n        username: [\r\n          {\r\n            //验证规则 触发事件\r\n            validator: validateUsername,\r\n            trigger: \"blur\",\r\n          },\r\n        ],\r\n        password: [\r\n          {\r\n            //验证规则 触发事件\r\n            validator: validatePassword,\r\n            trigger: \"blur\",\r\n          },\r\n        ],\r\n        configurePassword: [\r\n          {\r\n            //验证规则 触发事件\r\n            validator: validateCheckPass,\r\n            trigger: \"blur\",\r\n          },\r\n        ],\r\n      },\r\n    };\r\n  },\r\n  methods: {\r\n    ...mapMutations('login',['setUser']),\r\n    submitForm(formName) {\r\n      this.$refs[formName].validate((valid) => {\r\n        if (valid) {\r\n          if(this.activeTabs === 'login'){\r\n            // console.log(this.loginForm);\r\n            // 登录\r\n            api.login(this.loginForm).then(res =>{\r\n              if(res.data.status === 200){\r\n                this.setUser(res.data);\r\n                localStorage.setItem('ego',JSON.stringify(res.data));\r\n                // this.$router.push('/').catch(()=>{\r\n                //   alert('请先登录')\r\n                // })\r\n                this.$router.push('/');\r\n              }else{\r\n                const h = this.$createElement;\r\n                this.$notify({\r\n                  title:'登录失败',\r\n                  message:h('用户名密码错误！')\r\n                })\r\n              }\r\n            })\r\n          }\r\n          // if(this.activeTabs === 'registerForm'){\r\n          //   console.log('@');\r\n          //   console.log(this.registerForm);\r\n          // }\r\n        } else {\r\n          console.log(\"error submit!!\");\r\n          return;\r\n        }\r\n      });\r\n    },\r\n    resubmitForm(formName) {\r\n      this.$refs[formName].validate((valid) => {\r\n        if (valid) {\r\n            api.register(this.registerForm).then((res)=>{\r\n              if(res.data.status === 200){\r\n                const h = this.$createElement;\r\n                this.$notify({\r\n                  title:'注册成功',\r\n                  message:h('请前往登录'),\r\n                });\r\n              }else {\r\n                const h = this.$createElement;\r\n                this.$notify({\r\n                  title:'注册失败',\r\n                  message:h('请重新注册'),\r\n                })\r\n              }\r\n            })\r\n        } else {\r\n          console.log(\"error submit!!\");\r\n          return false;\r\n        }\r\n      });\r\n    },\r\n    handleTabsClick(tab) {\r\n        this.activeTabs = tab.name;\r\n        console.log(this.activeTabs);\r\n      }\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.login {\r\n  width: 1200px;\r\n  margin: 0 auto;\r\n  .box-card {\r\n    width: 500px;\r\n    margin: 100px auto;\r\n  }\r\n}\r\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=165209b2&scoped=true&\"\nimport script from \"./Login.vue?vue&type=script&lang=js&\"\nexport * from \"./Login.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Login.vue?vue&type=style&index=0&id=165209b2&prod&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"165209b2\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","attrs","slot","_v","on","handleTabsClick","model","value","currentIndex","callback","$$v","expression","ref","loginForm","rules","username","$set","password","$event","submitForm","registerForm","email","configurePassword","resubmitForm","staticRenderFns","data","activeTabs","validator","trigger","methods","api","localStorage","title","message","console","component"],"sourceRoot":""}